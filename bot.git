import os, time, random, json, logging, tempfile
from threading import Lock
import telebot
# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è ---
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)
# --- –¢–û–ö–ï–ù (–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ) ---
TOKEN = os.getenv("TG_BOT_TOKEN") or "8109307891:AAHSqQtacU_Ar_1srMJisLqD1eEPEXocmls"
bot = telebot.TeleBot(TOKEN, parse_mode="Markdown")
# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã ---
# –¢–µ–ª–µ—Ñ–æ–Ω—ã –ø–æ —Ä–µ–¥–∫–æ—Å—Ç—è–º (–Ω–∞–∑–≤–∞–Ω–∏–µ, –±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞)
PHONES_POOLS = {
 "–æ–±—ã—á–Ω—ã–π": [
 ("Nokia 3310", 1500), ("iPhone 11", 30000), ("Xiaomi 14", 80000)
 ],
 "–Ω–µ–æ–±—ã—á–Ω—ã–π": [
 ("iPhone 13", 55000), ("Pixel 8 Pro", 95000), ("Sony Xperia 1",
90000)
 ],
 "—Ä–µ–¥–∫–∏–π": [
 ("Motorola RAZR", 110000), ("Samsung S24 Ultra", 125000)
 ],
 "—ç–ø–∏–∫": [
 ("iPhone 15 Pro", 130000)
 ],
 "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π": [
 ("Custom Ultra", 250000)
 ]
}
# –¶–µ–Ω—ã –∑–∞ –ø–æ–∫—É–ø–∫—É –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞)
RARITY_PRICES = {
 "–æ–±—ã—á–Ω—ã–π": 5000,
 "–Ω–µ–æ–±—ã—á–Ω—ã–π": 12000,
 "—Ä–µ–¥–∫–∏–π": 35000,
 "—ç–ø–∏–∫": 80000,
 "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π": 160000
}
# –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–¥–ª—è –∫–æ–Ω–µ—á–Ω–æ–π —Ü–µ–Ω—ã)
COND_MULT = {"‚ú® –ò–¥–µ–∞–ª—å–Ω–æ–µ": 1.1, "‚úÖ –•–æ—Ä–æ—à–µ–µ": 0.8, "ü§î –ü–æ—Ç—Ä–µ–ø–∞–Ω–Ω–æ–µ":
0.5, "‚úÖ –ë/–£": 0.3}
# –°—Ç–∞—Ä—ã–π —Å–ø–∏—Å–æ–∫ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
PHONES = [
 ("iPhone 11", 30000), ("iPhone 13", 55000), ("iPhone 15 Pro",
130000),
 ("Nokia 3310", 150000), ("Samsung S24 Ultra", 125000), ("Xiaomi 14",
80000),
 ("Sony Xperia 1", 90000), ("Motorola RAZR", 110000), ("Pixel 8 Pro",
95000)
]
PHRASES = [
 "–î–µ–Ω –ø–µ–¥ –∏ –ö",
 "–ë–∞—Ç—è –ê–Ω–¥—Ä–µ—è —Å–æ—á–Ω—ã–π",
 "–ñ–µ–∫–∞ –ø–¥—Ä",
 "–ò–ª—å—è –µ–± –î–∏–∞–Ω—É"
]
USERS_FILE = "users.json"
lock = Lock()
_users = {}
# --- –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏ (–∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å) ---
def load_users():
 global _users
 if os.path.exists(USERS_FILE):
 try:
 with open(USERS_FILE, "r", encoding="utf-8") as f:
 _users = json.load(f)
 logger.info("–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞.")
 except Exception as e:
 logger.error(f"–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –±–∞–∑—ã: {e}")
 _users = {}
 else:
 _users = {}
 save_users()
def save_users():
 with lock:
 try:
 dirn = os.path.dirname(os.path.abspath(USERS_FILE)) or "."
 fd, tmp_path = tempfile.mkstemp(dir=dirn)
 with os.fdopen(fd, "w", encoding="utf-8") as f:
 json.dump(_users, f, ensure_ascii=False, indent=2)
 os.replace(tmp_path, USERS_FILE)
 except Exception as e:
 logger.error(f"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–∑—ã: {e}")
def get_user(m):
 uid = str(m.from_user.id)
 if uid not in _users:
 _users[uid] = {
 "name": m.from_user.first_name or "–ü–µ—Ä–µ–∫—É–ø",
 "balance": 10000,
 "inventory": [],
 "last_flip": 0,
 "exp": 0,
 "lvl": 1
 }
 save_users()
 return _users[uid]
# --- –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ ---
def add_exp(user, amount):
 user["exp"] += amount
 next_lvl = user["lvl"] * 100
 if user["exp"] >= next_lvl:
 user["lvl"] += 1
 user["exp"] = 0
 return True
 return False
# --- –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ ---
@bot.message_handler(commands=['start', 'help'])
def start_cmd(m):
 msg = ("üì± *–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í –°–ò–ú–£–õ–Ø–¢–û–† –ü–ï–†–ï–ö–£–ü–ê!")

"
 "üíµ *–ó–∞—Ä–∞–±–æ—Ç–æ–∫:*
"
 "‚Ä¢ `–∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å` ‚Äî –ø–æ–π—Ç–∏ –Ω–∞ —Å–º–µ–Ω—É –≤ —Å–µ—Ä–≤–∏—Å
"
 "‚Ä¢ `–∫–∞—Ä—Ç` ‚Äî —Ñ–∏—à–∫–∞ –∑–∞ 100 —Å —Ñ—Ä–∞–∑–æ–π
"
 "‚Ä¢ `—Å—Ç–∞–≤–∫–∞ [—Å—É–º–º–∞]` ‚Äî —Ä–∏—Å–∫–Ω—É—Ç—å –≤ –∫–∞–∑–∏–Ω–æ

"
 "üõç *–ú–∞–≥–∞–∑–∏–Ω / –¢–æ—Ä–≥–æ–≤–ª—è:*
"
 "‚Ä¢ `–º–∞–≥–∞–∑–∏–Ω` ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω (–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏ –∏–ª–∏
–∫–µ–π—Å)
"
 "‚Ä¢ `–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω [—Ä–µ–¥–∫–æ—Å—Ç—å]` ‚Äî –∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –≤—ã–±—Ä–∞–Ω–Ω–æ–π
—Ä–µ–¥–∫–æ—Å—Ç–∏
"
 "‚Ä¢ `–∫—É–ø–∏—Ç—å –∫–µ–π—Å` –∏–ª–∏ `–∫—É–ø–∏—Ç—å 1` ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å (15,000$)
"
 "‚Ä¢ `—Ç–ª` ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ã
"
 "‚Ä¢ `–ø—Ä–æ–¥–∞—Ç—å [–Ω–æ–º–µ—Ä]` ‚Äî –ø—Ä–æ–¥–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –∏–∑ —Å–ø–∏—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä:
`–ø—Ä–æ–¥–∞—Ç—å 1`)

"
 "üìä *–ü—Ä–æ—á–µ–µ:*
"
 "‚Ä¢ `–ø—Ä–æ—Ñ–∏–ª—å` ‚Äî —Ç–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
"
 "‚Ä¢ `—Ç–æ–ø` ‚Äî —Å–ø–∏—Å–æ–∫ –ª—É—á—à–∏—Ö")
 bot.send_message(m.chat.id, msg)
@bot.message_handler(func=lambda m: m.text and m.text.lower() ==
'–∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å')
def earn_money(m):
 user = get_user(m)
 base = random.randint(1000, 3000)
 bonus = user["lvl"] * 500
 total = base + bonus
 user["balance"] += total
 save_users()
 bot.send_message(m.chat.id, f"üõ† –¢—ã –ø–æ—á–∏–Ω–∏–ª –ø–∞—Ä—É —ç–∫—Ä–∞–Ω–æ–≤!
–ü–æ–ª—É—á–µ–Ω–æ: *
{total:,}$*
_(–£—Ä–æ–≤–µ–Ω—å {user['lvl']} –¥–∞–µ—Ç –±–æ–Ω—É—Å +{bonus:,}$)_")
@bot.message_handler(func=lambda m: m.text and m.text.lower() ==
'–º–∞–≥–∞–∑–∏–Ω')
def open_shop(m):
 msg = ("üõí *–ú–ê–ì–ê–ó–ò–ù*

"
 "–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –∫—É–ø–∏—Ç—å:
"
 "‚Ä¢ `–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω [—Ä–µ–¥–∫–æ—Å—Ç—å]` ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–¥–∫–æ—Å—Ç–∏: –æ–±—ã—á–Ω—ã–π,
–Ω–µ–æ–±—ã—á–Ω—ã–π, —Ä–µ–¥–∫–∏–π, —ç–ø–∏–∫, –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π
"
 " –ü—Ä–∏–º–µ—Ä—ã: `–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –æ–±—ã—á–Ω—ã–π`, `–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω
—Ä–µ–¥–∫–∏–π`
"
 "‚Ä¢ `–∫—É–ø–∏—Ç—å –∫–µ–π—Å` ‚Äî –û–±—ã—á–Ω—ã–π –∫–µ–π—Å (random phone) ‚Äî
*15,000$*

"
 "–¶–µ–Ω—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏:
")
 for r, p in RARITY_PRICES.items():
 msg += f"‚Ä¢ *{r.title()}* ‚Äî *{p:,}$*
"
 bot.send_message(m.chat.id, msg)
@bot.message_handler(func=lambda m: m.text and
(m.text.lower().startswith('–∫—É–ø–∏—Ç—å 1') or
m.text.lower().startswith('–∫—É–ø–∏—Ç—å –∫–µ–π—Å') or m.text.lower() == '–∫—É–ø–∏—Ç—å
–∫–µ–π—Å'))
def buy_case(m):
 user = get_user(m)
 cost = 15000
 if user["balance"] < cost:
 return bot.send_message(m.chat.id, "‚ùå –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥! –ò–¥–∏
–∑–∞—Ä–∞–±–æ—Ç–∞–π.")
 p_name, p_price = random.choice(PHONES)
 condition = random.choice(["‚ú® –ò–¥–µ–∞–ª—å–Ω–æ–µ", "‚úÖ –•–æ—Ä–æ—à–µ–µ", "ü§î
–ü–æ—Ç—Ä–µ–ø–∞–Ω–Ω–æ–µ"])
 mult = COND_MULT.get(condition, 1.0)
 final_price = int(p_price * mult)
 user["balance"] -= cost
 user["inventory"].append({"name": p_name, "price": final_price,
"cond": condition})
 save_users()
 bot.send_message(m.chat.id, f"üì¶ –ò–∑ –∫–µ–π—Å–∞ –≤—ã–ø–∞–ª: *
{p_name}*
–°–æ—Å—Ç–æ—è–Ω–∏–µ: {condition}
–û—Ü–µ–Ω–µ–Ω –≤: *{final_price:,}$*")
@bot.message_handler(func=lambda m: m.text and
m.text.lower().startswith('–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω'))
def buy_phone(m):
 user = get_user(m)
 parts = m.text.lower().split()
 if len(parts) < 3:
 return bot.send_message(m.chat.id, "‚ùå –ù–∞–ø–∏—à–∏: `–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω
[—Ä–µ–¥–∫–æ—Å—Ç—å]` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `–∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –æ–±—ã—á–Ω—ã–π`)")
 rarity = parts[-1]
 if rarity not in RARITY_PRICES:
 return bot.send_message(m.chat.id, "‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è —Ä–µ–¥–∫–æ—Å—Ç—å.
–î–æ—Å—Ç—É–ø–Ω—ã–µ: –æ–±—ã—á–Ω—ã–π, –Ω–µ–æ–±—ã—á–Ω—ã–π, —Ä–µ–¥–∫–∏–π, —ç–ø–∏–∫, –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π")
 cost = RARITY_PRICES[rarity]
 if user["balance"] < cost:
 return bot.send_message(m.chat.id, f"‚ùå –î–ª—è –ø–æ–∫—É–ø–∫–∏ {rarity}
—Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω—É–∂–Ω–æ {cost:,}$ ( ‚Äî —É —Ç–µ–±—è {user['balance']:,}$)")
 pool = PHONES_POOLS.get(rarity, [])
 if not pool:
 return bot.send_message(m.chat.id, "‚ùå –í —ç—Ç–æ–π —Ä–µ–¥–∫–æ—Å—Ç–∏ —Å–µ–π—á–∞—Å –Ω–µ—Ç
—Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (–æ—à–∏–±–∫–∞).")
 base_name, base_price = random.choice(pool)
 # –¥–æ–±–∞–≤–∏–º —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è
 condition = random.choices(["‚ú® –ò–¥–µ–∞–ª—å–Ω–æ–µ", "‚úÖ –•–æ—Ä–æ—à–µ–µ", "ü§î
–ü–æ—Ç—Ä–µ–ø–∞–Ω–Ω–æ–µ"], weights=[10, 60, 30])[0]
 mult = COND_MULT.get(condition, 1.0)
 final_price = int(base_price * mult)
 user["balance"] -= cost
 user["inventory"].append({"name": base_name, "price": final_price,
"cond": condition})
 save_users()
 bot.send_message(m.chat.id, f"üõç –¢—ã –∫—É–ø–∏–ª {rarity} —Ç–µ–ª–µ—Ñ–æ–Ω: *
{base_name}*
–°–æ—Å—Ç–æ—è–Ω–∏–µ: {condition}
–û—Ü–µ–Ω–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏: *
{final_price:,}$*
–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏: *{cost:,}$*")
@bot.message_handler(func=lambda m: m.text and m.text.lower() == '–∫–∞—Ä—Ç')
def kart_feature(m):
 user = get_user(m)
 cost = 100
 if user["balance"] < cost:
 return bot.send_message(m.chat.id, "‚ùå –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç 100$ –¥–ª—è
—Ñ–∏—à–∫–∏.")
 user["balance"] -= cost
 phrase = random.choice(PHRASES)
 save_users()
 bot.send_message(m.chat.id, f"üí¨ {phrase}
(–°–ø–∏—Å–∞–Ω–æ {cost:,}$)")
@bot.message_handler(func=lambda m: m.text and m.text.lower() == '—Ç–ª')
def my_inventory(m):
 user = get_user(m)
 inv = user.get("inventory", [])
 if not inv:
 return bot.send_message(m.chat.id, "üì± –£ —Ç–µ–±—è –Ω–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –Ω–∞
–ø—Ä–æ–¥–∞–∂—É.")
 msg = f"üì± *–¢–≤–æ–π —Å–∫–ª–∞–¥ (LVL {user['lvl']}):*

"
 for i, item in enumerate(inv, 1):
 msg += f"{i}. {item['name']} ({item['cond']}) ‚Äî *
{item['price']:,}$*
"
 msg += "
–ß—Ç–æ–±—ã –ø—Ä–æ–¥–∞—Ç—å: `–ø—Ä–æ–¥–∞—Ç—å [–Ω–æ–º–µ—Ä]`"
 bot.send_message(m.chat.id, msg)
@bot.message_handler(func=lambda m: m.text and
m.text.lower().startswith('–ø—Ä–æ–¥–∞—Ç—å '))
def sell_phone(m):
 user = get_user(m)
 try:
 idx = int(m.text.split()[-1]) - 1
 if idx < 0 or idx >= len(user["inventory"]):
 raise ValueError
 item = user["inventory"].pop(idx)
 user["balance"] += item["price"]
 lvl_up = add_exp(user, 20)
 save_users()
 res = f"ü§ù –¢—ã –ø—Ä–æ–¥–∞–ª {item['name']} –∑–∞ *{item['price']:,}$*
+20
XP –∫ —É—Ä–æ–≤–Ω—é."
 if lvl_up:
 res += "

üèÖ *–£–†–û–í–ï–ù–¨ –ü–û–í–´–®–ï–ù! –¢–≤–æ–π –±–æ–Ω—É—Å –∫ —Ä–∞–±–æ—Ç–µ –≤—ã—Ä–æ—Å!*"
 bot.send_message(m.chat.id, res)
 except:
 bot.send_message(m.chat.id, "‚ùå –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–∑
—Å–ø–∏—Å–∫–∞ `—Ç–ª`. –ù–∞–ø—Ä–∏–º–µ—Ä: `–ø—Ä–æ–¥–∞—Ç—å 1`")
@bot.message_handler(func=lambda m: m.text and m.text.lower() ==
'–ø—Ä–æ—Ñ–∏–ª—å')
def profile(m):
 user = get_user(m)
 msg = (f"üë§ *–ò–≥—Ä–æ–∫:* {user['name']}
"
 f"üí∞ *–ë–∞–ª–∞–Ω—Å:* {user['balance']:,}$
"
 f"‚≠ê *–£—Ä–æ–≤–µ–Ω—å:* {user['lvl']} ({user['exp']} XP)
"
 f"üì± *–í –Ω–∞–ª–∏—á–∏–∏:* {len(user['inventory'])} —à—Ç.")
 bot.send_message(m.chat.id, msg)
@bot.message_handler(func=lambda m: m.text and
m.text.lower().startswith('—Å—Ç–∞–≤–∫–∞ '))
def casino(m):
 user = get_user(m)
 try:
 amount = int(m.text.split()[-1])
 if amount <= 0 or amount > user["balance"]:
 return bot.send_message(m.chat.id, "‚ùå –£ —Ç–µ–±—è –Ω–µ—Ç —Å—Ç–æ–ª—å–∫–æ
–¥–µ–Ω–µ–≥ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞!!")
 # —Å–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫—É
 user["balance"] -= amount
 if random.random() < 0.4: # 40% –Ω–∞ –ø–æ–±–µ–¥—É
 user["balance"] += amount * 2 # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 2x (—á–∏—Å—Ç—ã–π
–≤—ã–∏–≥—Ä—ã—à = amount)
 bot.send_message(m.chat.id, f"üìà –§–æ—Ä—Ç—É–Ω–∞! –¢—ã –≤—ã–∏–≥—Ä–∞–ª ‚Äî
–ø–æ–ª—É—á–∏–ª *{amount*2:,}$*")
 else:
 bot.send_message(m.chat.id, f"üìâ –°–¥–µ–ª–∫–∞ —Å–æ—Ä–≤–∞–ª–∞—Å—å. –¢—ã –ø–æ—Ç–µ—Ä—è–ª
*{amount:,}$*")
 save_users()
 except:
 bot.send_message(m.chat.id, "‚ùå –ü–∏—à–∏: `—Å—Ç–∞–≤–∫–∞ 5000`")
@bot.message_handler(func=lambda m: m.text and m.text.lower() == '—Ç–æ–ø')
def top_players(m):
 top = sorted(_users.values(), key=lambda x: x['balance'],
reverse=True)[:10]
 res = "üèÜ *–¢–û–ü 10 –ë–û–ì–ê–¢–´–• –ü–ï–†–ï–ö–£–ü–û–í:*

"
 for i, u in enumerate(top, 1):
 res += f"{i}. {u['name']} ‚Äî *{u['balance']:,}$*
"
 bot.send_message(m.chat.id, res)
# --- –ó–∞–ø—É—Å–∫ ---
if __name__ == "__main__":
    load_users()
    logger.info("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∞–º!")
    # –ó–∞–ø—É—Å–∫ polling –≤ —Ü–∏–∫–ª–µ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ
    # –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏ —á—Ç–æ–±—ã –±—ã–ª –≤–∏–¥–µ–Ω —Ç—Ä–∞—Å—Å–±–µ–∫ –≤ –ª–æ–≥–∞—Ö.
    while True:
        try:
            bot.infinity_polling(skip_pending=True)
        except Exception:
            logger.exception("Polling —É–ø–∞–ª ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 15 —Å–µ–∫.")
            time.sleep(15)
